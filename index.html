<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íŒŒì´ì¬ í”„ë¡œê·¸ë˜ë°: ë³€ìˆ˜ì™€ ìë£Œí˜•</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Fira+Code:wght@400;500&display=swap');
        
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f3f4f6; }
        .code-font { font-family: 'Fira Code', monospace; }
        .active-tab { border-bottom: 4px solid #3b82f6; color: #3b82f6; }
        .card { background: white; border-radius: 1.5rem; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        
        /* ì‹¤ìŠµì°½ ì—ë””í„° í¬ì»¤ìŠ¤ */
        #code-editor:focus { outline: none; background-color: #252525; }
        
        .quiz-option:hover { background-color: #f0f7ff; border-color: #3b82f6; }
        .correct { background-color: #def7ec !important; border-color: #0e9f6e !important; }
        .wrong { background-color: #fde8e8 !important; border-color: #f05252 !important; }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
    </style>
</head>
<body class="text-slate-800 pb-20">

    <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center gap-2">
                    <i class="fa-brands fa-python text-3xl text-blue-500"></i>
                    <span class="font-bold text-xl tracking-tight">Python Learning Lab</span>
                </div>
                <div class="flex space-x-6">
                    <button onclick="switchTab('theory')" id="btn-theory" class="tab-btn py-5 px-1 font-medium active-tab">1. ì´ë¡  í•™ìŠµ</button>
                    <button onclick="switchTab('practice')" id="btn-practice" class="tab-btn py-5 px-1 font-medium text-slate-500">2. ì½”ë”© ì‹¤ìŠµ</button>
                    <button onclick="switchTab('assignment')" id="btn-assignment" class="tab-btn py-5 px-1 font-medium text-slate-500">3. ê³¼ì œ ì œì¶œ</button>
                </div>
            </div>
        </div>
    </nav>

    <main class="max-w-5xl mx-auto px-4 mt-8">
        
        <!-- SECTION 1: ì´ë¡  í•™ìŠµ (í•™ìŠµì§€ ë‚´ìš© ë°˜ì˜) -->
        <section id="tab-theory" class="tab-content space-y-10">
            <!-- íŒŒì´ì¬ ì†Œê°œ -->
            <div class="card p-8">
                <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
                    <span class="bg-blue-500 text-white w-8 h-8 rounded-lg flex items-center justify-center text-sm">I</span>
                    íŒŒì´ì¬ ì†Œê°œ
                </h2>
                <div class="grid md:grid-cols-2 gap-8 items-start">
                    <div class="space-y-3 text-slate-600">
                        <p>â€¢ <strong>1991ë…„ ê·€ë„ ë°˜ ë¡œì„¬</strong>ì´ ê°œë°œí•˜ì˜€ìŠµë‹ˆë‹¤.</p>
                        <p>â€¢ ë¬¸ë²•ì´ ê°„ê²°í•˜ê³  ì½ê¸° ì‰¬ì›Œ ë°°ìš°ê¸° ì¢‹ìŠµë‹ˆë‹¤.</p>
                        <p>â€¢ ì¸ê³µì§€ëŠ¥, ë°ì´í„° ê³¼í•™, ì›¹ ë“± ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.</p>
                        <p>â€¢ <strong>Google Colab:</strong> ì„¤ì¹˜ ì—†ì´ êµ¬ê¸€ ê³„ì •ë§Œìœ¼ë¡œ íŒŒì´ì¬ì„ ì‹¤ìŠµí•  ìˆ˜ ìˆëŠ” ë„êµ¬ì…ë‹ˆë‹¤.</p>
                    </div>
                    <div class="bg-blue-50 p-4 rounded-xl border border-blue-100">
                        <h4 class="font-bold text-blue-700 mb-2 text-sm italic">Tip: ëª…ë ¹ì–´ í˜•ì‹</h4>
                        <p class="text-sm text-blue-600 leading-relaxed">íŒŒì´ì¬ì—ì„œëŠ” ëª…ë ¹ ë‚´ìš©ì„ ëœ»í•˜ëŠ” ì˜ë‹¨ì–´ ë’¤ì— ì†Œê´„í˜¸ <code>()</code>ë¥¼ ë¶™ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤. ì˜ˆ: <code>print()</code>, <code>input()</code></p>
                    </div>
                </div>
            </div>

            <!-- ì¶œë ¥ ëª…ë ¹ì–´ í€´ì¦ˆ (í•™ìŠµì§€ ë¬¸ì œ ë°˜ì˜) -->
            <div class="card p-8">
                <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
                    <span class="bg-green-500 text-white w-8 h-8 rounded-lg flex items-center justify-center text-sm">II</span>
                    ì¶œë ¥ ëª…ë ¹ì–´ & ìë£Œí˜• í€´ì¦ˆ
                </h2>
                <p class="text-slate-500 mb-6">í•™ìŠµì§€ì˜ 'ë¬¸ì œ 1'ê³¼ 'ë¬¸ì œ 2'ë¥¼ í’€ì–´ë³´ì„¸ìš”.</p>
                
                <div class="space-y-8">
                    <!-- ë¬¸ì œ 1 -->
                    <div class="quiz-item">
                        <p class="font-bold mb-3">Q1. ë‹¤ìŒ ë‘ ì½”ë“œì˜ ê²°ê³¼ë¡œ ì˜³ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.</p>
                        <div class="bg-slate-900 text-slate-300 p-4 rounded-xl mb-4 code-font text-sm">
                            print('20' + '24')<br>
                            print(20 + 24)
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                            <button onclick="checkQuiz(this, true)" class="quiz-option border-2 border-slate-200 p-4 rounded-xl text-left transition">
                                <span class="font-bold">A.</span> 2024 / 44
                            </button>
                            <button onclick="checkQuiz(this, false)" class="quiz-option border-2 border-slate-200 p-4 rounded-xl text-left transition">
                                <span class="font-bold">B.</span> 44 / 2024
                            </button>
                        </div>
                    </div>

                    <!-- ë¬¸ì œ 2 -->
                    <div class="quiz-item border-t pt-8">
                        <p class="font-bold mb-3">Q2. <code class="bg-slate-100 px-2 rounded italic">print("10" + 20)</code> ì‹¤í–‰ ì‹œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ì´ìœ ëŠ”?</p>
                        <div class="grid grid-cols-1 gap-3">
                            <button onclick="checkQuiz(this, false)" class="quiz-option border-2 border-slate-200 p-4 rounded-xl text-left transition">
                                <span class="font-bold">1.</span> ëª…ë ¹ì–´ê°€ í‹€ë ¤ì„œ
                            </button>
                            <button onclick="checkQuiz(this, true)" class="quiz-option border-2 border-slate-200 p-4 rounded-xl text-left transition">
                                <span class="font-bold">2.</span> ë¬¸ìì—´ê³¼ ìˆ«ìëŠ” ë”í•  ìˆ˜ ì—†ì–´ì„œ (ìë£Œí˜• ë¶ˆì¼ì¹˜)
                            </button>
                            <button onclick="checkQuiz(this, false)" class="quiz-option border-2 border-slate-200 p-4 rounded-xl text-left transition">
                                <span class="font-bold">3.</span> í°ë”°ì˜´í‘œê°€ ì„¸ ê°œê°€ ì•„ë‹ˆë¼ì„œ
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-center">
                <button onclick="switchTab('practice')" class="bg-blue-600 text-white px-8 py-4 rounded-2xl font-bold hover:bg-blue-700 transition shadow-lg">
                    ì´ë¡ ì„ ë‹¤ ë°°ì› ë‚˜ìš”? ì‹¤ìŠµí•˜ëŸ¬ ê°€ê¸° <i class="fa-solid fa-arrow-right ml-2"></i>
                </button>
            </div>
        </section>

        <!-- SECTION 2: ì½”ë”© ì‹¤ìŠµ -->
        <section id="tab-practice" class="tab-content hidden space-y-6">
            <div class="bg-white p-6 rounded-2xl border-l-4 border-yellow-400 shadow-sm">
                <h3 class="font-bold text-lg mb-2"><i class="fa-solid fa-keyboard mr-2"></i>ì‹¤ìŠµ ë¯¸ì…˜: ì´ë¦„ ì…ë ¥ë°›ê³  ì¸ì‚¬í•˜ê¸°</h3>
                <p class="text-slate-600 text-sm">í•™ìŠµì§€ì—ì„œ ë°°ìš´ <code>input()</code>ê³¼ <code>print()</code>ë¥¼ í™œìš©í•˜ì—¬ ì‚¬ìš©ìì˜ ì´ë¦„ì„ ì…ë ¥ë°›ì•„ "ì•ˆë…•í•˜ì„¸ìš”, [ì´ë¦„]ë‹˜!"ì„ ì¶œë ¥í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”.</p>
            </div>

            <div class="bg-slate-900 rounded-2xl shadow-2xl overflow-hidden">
                <div class="flex justify-between items-center px-6 py-4 border-b border-slate-800">
                    <span class="text-slate-400 text-sm code-font tracking-wider uppercase">practice.py</span>
                    <button onclick="runCode()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-1.5 rounded-full text-sm font-bold flex items-center gap-2 transition">
                        <i class="fa-solid fa-play text-[10px]"></i>
                        <span>ì‹¤í–‰í•˜ê¸° (RUN)</span>
                    </button>
                </div>
                <div class="flex flex-col md:flex-row h-[400px]">
                    <div class="w-full md:w-1/2 overflow-auto bg-[#1e1e1e]">
                        <pre id="code-editor" contenteditable="true" spellcheck="false" class="p-6 text-slate-300 code-font text-sm leading-relaxed min-h-full"># ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”
name = input("ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”: ")

# ì•„ë˜ì— ì¸ì‚¿ë§ì„ ì¶œë ¥í•˜ëŠ” ì½”ë“œë¥¼ ì™„ì„±í•˜ì„¸ìš”
print("ì•ˆë…•í•˜ì„¸ìš”, " + name + "ë‹˜!")</pre>
                    </div>
                    <div class="w-full md:w-1/2 bg-black p-6 flex flex-col border-l border-slate-800">
                        <div class="text-slate-500 text-[10px] mb-2 uppercase font-bold tracking-widest">Console Output</div>
                        <div id="output-screen" class="flex-grow code-font text-xs overflow-auto text-green-400 leading-relaxed">
                            > ì‹¤ìŠµ ì¤€ë¹„ ì™„ë£Œ.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: ê³¼ì œ ì œì¶œ -->
        <section id="tab-assignment" class="tab-content hidden">
            <div class="card p-10 max-w-2xl mx-auto">
                <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                    <i class="fa-solid fa-paper-plane text-blue-500"></i>
                    ê³¼ì œ ì œì¶œí•˜ê¸°
                </h2>
                <form id="submission-form" class="space-y-4">
                    <div class="grid grid-cols-2 gap-4">
                        <div class="space-y-1">
                            <label class="text-xs font-bold text-slate-400 ml-1">í•™ë²ˆ</label>
                            <input type="text" id="student-id" placeholder="ì˜ˆ: 10101" class="w-full bg-slate-50 rounded-xl p-4 border border-slate-200 outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="space-y-1">
                            <label class="text-xs font-bold text-slate-400 ml-1">ì´ë¦„</label>
                            <input type="text" id="student-name" placeholder="í™ê¸¸ë™" class="w-full bg-slate-50 rounded-xl p-4 border border-slate-200 outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                    <div class="space-y-1">
                        <label class="text-xs font-bold text-slate-400 ml-1">ì‘ì„±í•œ ì½”ë“œ</label>
                        <textarea id="submission-code" rows="8" class="w-full bg-slate-900 text-blue-300 rounded-xl p-4 code-font text-sm" placeholder="# ì‹¤ìŠµí•œ ì½”ë“œë¥¼ ë³µì‚¬í•´ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”."></textarea>
                    </div>
                    <button type="button" id="submit-btn" onclick="submitToSheet()" class="w-full bg-slate-900 text-white py-4 rounded-2xl font-bold hover:bg-slate-800 transition flex justify-center items-center">
                        <span id="btn-text">ê³¼ì œ ì œì¶œí•˜ê¸° (Google Sheet)</span>
                    </button>
                </form>
            </div>
        </section>
    </main>

    <!-- í† ìŠ¤íŠ¸ ì•Œë¦¼ -->
    <div id="toast" class="fixed bottom-8 left-1/2 -translate-x-1/2 bg-slate-900 text-white px-8 py-4 rounded-2xl shadow-2xl transform translate-y-32 transition-all duration-500 z-[100]">
        <span id="toast-message">ì•Œë¦¼ ë©”ì‹œì§€</span>
    </div>

    <script>
        // Google Sheet Web App URL (ë³¸ì¸ì˜ URLë¡œ êµì²´ í•„ìš”)
        const scriptURL = 'https://script.google.com/macros/s/AKfycbyMLRVmoQdEAnXmZK9eAz5THUs_WgZr8dHzrBMpTTrZUpfhqR4eFITVWZc3TQ6-teFY/exec';

        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.add('hidden'));
            document.getElementById('tab-' + tabId).classList.remove('hidden');
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active-tab', 'text-blue-600'));
            document.getElementById('btn-' + tabId).classList.add('active-tab', 'text-blue-600');
            window.scrollTo(0,0);
        }

        function checkQuiz(btn, isCorrect) {
            const siblings = btn.parentElement.querySelectorAll('.quiz-option');
            siblings.forEach(s => {
                s.classList.remove('correct', 'wrong');
                s.disabled = true;
            });

            if (isCorrect) {
                btn.classList.add('correct');
                showToast("ì •ë‹µì…ë‹ˆë‹¤! ğŸ‘", "success");
            } else {
                btn.classList.add('wrong');
                showToast("ë‹¤ì‹œ í•œ ë²ˆ ìƒê°í•´ë³´ì„¸ìš”. ğŸ˜¢", "error");
            }
        }

        function runCode() {
            const code = document.getElementById('code-editor').innerText;
            const output = document.getElementById('output-screen');
            output.innerHTML = "$ python3 practice.py\n";
            
            setTimeout(() => {
                if (code.includes('input') && (code.includes('print'))) {
                    output.innerHTML += "ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”: (ì‚¬ìš©ì ì…ë ¥ ëŒ€ê¸°ì¤‘...)\n";
                    output.innerHTML += "<span class='text-blue-400'>> ê²°ê³¼ ì‹œë®¬ë ˆì´ì…˜: ì•ˆë…•í•˜ì„¸ìš”, í•™ìŠµìë‹˜!</span>\n\n";
                    output.innerHTML += "<span class='text-yellow-400'>[ì•Œë¦¼] ì›¹ ì‹œë®¬ë ˆì´í„°ì—ì„œëŠ” ì‹¤ì œ ì…ë ¥ì„ ë°›ì§€ ì•Šê³  ë¬¸ë²• êµ¬ì¡°ë§Œ í™•ì¸í•©ë‹ˆë‹¤.</span>";
                } else {
                    output.innerHTML += "<span class='text-red-500'>ì˜¤ë¥˜: input() ë˜ëŠ” print() ëª…ë ¹ì–´ê°€ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤.</span>";
                }
            }, 600);
        }

        async function submitToSheet() {
            const id = document.getElementById('student-id').value;
            const name = document.getElementById('student-name').value;
            const code = document.getElementById('submission-code').value;
            const btn = document.getElementById('submit-btn');

            if (!id || !name || !code) {
                showToast("ëª¨ë“  ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!", "error");
                return;
            }

            btn.disabled = true;
            document.getElementById('btn-text').innerText = "ì „ì†¡ ì¤‘...";

            try {
                // ì‹¤ì œ ì‹œíŠ¸ ì—°ë™ ì‹œì—ëŠ” mode: 'no-cors'ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ 
                // Apps Scriptì—ì„œ CORSë¥¼ í—ˆìš©í•´ì•¼ í•©ë‹ˆë‹¤.
                await fetch(scriptURL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ studentId: id, name: name, code: code })
                });

                showToast("ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰", "success");
                document.getElementById('submission-form').reset();
            } catch (error) {
                showToast("ì œì¶œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.", "error");
            } finally {
                btn.disabled = false;
                document.getElementById('btn-text').innerText = "ê³¼ì œ ì œì¶œí•˜ê¸° (Google Sheet)";
            }
        }

        function showToast(msg) {
            const toast = document.getElementById('toast');
            document.getElementById('toast-message').innerText = msg;
            toast.classList.remove('translate-y-32');
            setTimeout(() => toast.classList.add('translate-y-32'), 3000);
        }
    </script>
</body>
</html>
